# ============================================================
#       Cemini Financial Suite — Environment Template
#
#       Mac/Linux:  cp .env.example .env
#       Windows:    copy .env.example .env
#
#       Fill in your real credentials below.
#       NEVER commit the .env file — it is in .gitignore.
# ============================================================

# ============================================================
# MODE & GENERAL
# ============================================================
PAPER_MODE=True
ACTIVE_BROKER=ibkr
ENVIRONMENT=PAPER
LOG_LEVEL=INFO

# ============================================================
# BROKER CREDENTIALS
# ============================================================

# --- ALPACA (Paper & Live) ---
# Get keys at: https://app.alpaca.markets/paper-trading
APCA_API_KEY_ID=
APCA_API_SECRET_KEY=
APCA_API_BASE_URL=https://paper-api.alpaca.markets
# Aliases used by some modules
ALPACA_API_KEY=
ALPACA_SECRET_KEY=

# --- ROBINHOOD ---
RH_USERNAME=
RH_PASSWORD=
RH_ACCOUNT_NUMBER=
ROBINHOOD_USERNAME=
ROBINHOOD_PASSWORD=
ROBINHOOD_TOTP=
# Aliases used by some modules
ROBINHOOD_USER=
ROBINHOOD_PASS=

# --- COINBASE ---
# Get keys at: https://www.coinbase.com/settings/api
COINBASE_API_KEY=
COINBASE_API_SECRET=

# --- INTERACTIVE BROKERS (IBKR) ---
# Requires TWS or IB Gateway running locally.
# Paper: 7497 (TWS) / 4002 (Gateway)
# Live:  7496 (TWS) / 4001 (Gateway)
IBKR_HOST=127.0.0.1
IBKR_PORT=7497
IBKR_CLIENT_ID=1

# --- CHARLES SCHWAB ---
# 1. Create an App at: https://developer.schwab.com/
# 2. Set Callback URL in the portal to: https://127.0.0.1
SCHWAB_APP_KEY=
SCHWAB_APP_SECRET=
SCHWAB_CALLBACK_URL=https://127.0.0.1

# --- WEBULL ---
WEBULL_EMAIL=
WEBULL_PASSWORD=
WEBULL_PIN=

# --- SOFI ---
SOFI_USERNAME=
SOFI_PASSWORD=

# ============================================================
# MARKET DATA
# ============================================================

# --- POLYGON.IO ---
# Get a free key at: https://polygon.io/
POLYGON_API_KEY=
POLYGON_WS_URL=wss://socket.polygon.io/crypto

# ============================================================
# PREDICTION MARKETS
# ============================================================

# --- KALSHI ---
# Get keys at: https://kalshi.com/account/api
KALSHI_API_KEY=
KALSHI_PRIVATE_KEY_PATH=private_key.pem
KALSHI_EMAIL=
KALSHI_PASSWORD=
KALSHI_SENDER_ID=
KALSHI_TARGET_ID=

# --- HARD ROCK BET ---
HARDROCK_TOKEN=

# ============================================================
# SOCIAL & SENTIMENT
# ============================================================

# --- REDDIT (PRAW) ---
# Create an app at: https://www.reddit.com/prefs/apps
REDDIT_CLIENT_ID=
REDDIT_CLIENT_SECRET=
REDDIT_USER_AGENT=CeminiBot v1.0

# --- X / TWITTER ---
X_BEARER_TOKEN=

# X API spend guard — hard-stops scans at X_API_HARD_SKIP_PCT of the monthly budget
# Hard limit = X_API_MONTHLY_BUDGET * X_API_HARD_SKIP_PCT  (e.g. $25 * 0.90 = $22.50)
X_API_MONTHLY_BUDGET=25.00
X_API_HARD_SKIP_PCT=0.90
# How often the social scraper polls (minutes). 30 = conservative, 5 = aggressive
SOCIAL_SCRAPER_INTERVAL_MINUTES=30
# X API tiered polling intervals (minutes). Budget math: 480+240+120 calls = 8,400 reads/month (84%)
X_TIER1_INTERVAL_MINUTES=90
X_TIER2_INTERVAL_MINUTES=180
X_TIER3_INTERVAL_MINUTES=360

# --- TRADINGVIEW WEBHOOK ---
TV_WEBHOOK_KEY=

# ============================================================
# NOTIFICATIONS
# ============================================================

# --- DISCORD ---
DISCORD_WEBHOOK_URL=

# --- EMAIL REPORTING ---
REPORT_EMAIL=
REPORT_PASSWORD=
REPORT_RECIPIENTS=

# --- OPENWEATHERMAP ---
OPENWEATHER_API_KEY=

# ============================================================
# GOOGLE CLOUD / BIGQUERY
# ============================================================
GOOGLE_APPLICATION_CREDENTIALS=path/to/service_account.json
BQ_PROJECT_ID=
BQ_DATASET_ID=
BQ_TABLE_ID=market_data

# ============================================================
# CLOUDFLARE TUNNEL
# ============================================================
# Get this from: https://one.dash.cloudflare.com/ → Networks → Tunnels
# Create a tunnel, copy the token, paste here.
# Without this the cloudflared container will start but fail to connect.
CLOUDFLARE_TUNNEL_TOKEN=

# ============================================================
# INFRASTRUCTURE  (Docker defaults — change in production!)
# ============================================================
QUESTDB_HOST=questdb
QUESTDB_USER=admin
QUESTDB_PASSWORD=quest
DB_HOST=postgres
POSTGRES_USER=admin
POSTGRES_DB=qdb
REDIS_HOST=redis
REDIS_PASSWORD=cemini_redis_2026
POSTGRES_PASSWORD=quest
PGADMIN_DEFAULT_PASSWORD=admin
GRAFANA_USER=admin
GRAFANA_PASS=admin
GRAFANA_URL=http://localhost:3000
# Path to your Robinhood/broker tokens directory on the host machine
TOKENS_PATH=~/.tokens

# --- QUANTOS SERVICE (internal) ---
QUANTOS_HOST=signal_generator
QUANTOS_PORT=8000

# --- KALSHI EXTENDED ---
KALSHI_ENVIRONMENT=demo
KALSHI_KEY_PATH=/app/private_key.pem

# ============================================================
# QUANTOS SETTINGS
# ============================================================
TAX_BRACKET_PERCENT=0.30
ENABLE_WASH_SALE_GUARD=True

# ============================================================
# FEATURE FLAGS
# ============================================================
# Set to true only for local dev/testing — never in production
ENABLE_MOCK_SOCIAL=false
# Playbook runner scan interval in seconds (default: 300 = 5 min)
PLAYBOOK_SCAN_INTERVAL=300
