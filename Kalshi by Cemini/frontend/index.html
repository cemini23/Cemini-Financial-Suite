<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cemini Mission Control v2.0.11</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-deep: #0a0b10;
            --panel: #13151c;
            --border: #1f222d;
            --accent: #3b82f6;
            --success: #10b981;
            --danger: #ef4444;
        }
        body { font-family: 'Space Grotesk', sans-serif; background: var(--bg-deep); color: #e2e8f0; }
        .card { background: var(--panel); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem; }
        .sidebar-item { padding: 0.75rem 1rem; border-radius: 8px; cursor: pointer; transition: 0.2s; color: #94a3b8; font-weight: 500; font-size: 0.9rem; }
        .sidebar-item:hover { background: #1e293b; color: white; }
        .sidebar-item.active { background: #3b82f6; color: white; }
        .view-section { display: none; }
        .view-section.active { display: block; animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .input-dark { background: #0f172a; border: 1px solid var(--border); border-radius: 6px; padding: 0.5rem; color: white; width: 100%; font-size: 0.85rem; }
        .btn-primary { background: var(--accent); color: white; font-weight: 700; border-radius: 8px; padding: 0.75rem 1.5rem; transition: 0.2s; }
        .btn-primary:hover { background: #2563eb; transform: translateY(-1px); }
    </style>
</head>
<body class="flex min-h-screen">

    <!-- SIDEBAR -->
    <div class="w-64 bg-panel border-r border-border flex flex-col">
        <div class="p-6 flex items-center gap-3">
            <img src="https://cdn-icons-png.flaticon.com/512/2535/2535559.png" class="h-8">
            <span class="font-bold text-lg tracking-wider">CEMINI</span>
        </div>
        
        <nav class="flex-1 space-y-1">
            <div class="sidebar-item active" onclick="switchView('dashboard', this)">
                <i class="fa-solid fa-gauge w-5"></i> Dashboard
            </div>
            <div class="sidebar-item" onclick="switchView('weather', this)">
                <i class="fa-solid fa-cloud-bolt w-5"></i> Weather Alpha
            </div>
            <div class="sidebar-item" onclick="switchView('musk', this)">
                <i class="fa-brands fa-x-twitter w-5"></i> Musk Monitor
            </div>
            <div class="sidebar-item" onclick="switchView('social', this)">
                <i class="fa-solid fa-users-viewfinder w-5"></i> Social Alpha
            </div>
            <div class="sidebar-item" onclick="switchView('geo', this)">
                <i class="fa-solid fa-earth-americas w-5"></i> Geo-Pulse
            </div>
            <div class="sidebar-item" onclick="switchView('rover', this)">
                <i class="fa-solid fa-shuttle-space w-5"></i> Market Rover
            </div>
            <div class="sidebar-item" onclick="switchView('btc', this)">
                <i class="fa-brands fa-bitcoin w-5"></i> Satoshi Vision
            </div>
        </nav>

        <div class="p-4 border-t border-border">
            <p class="text-xs text-gray-500 uppercase font-bold mb-2">X API Budget ($100)</p>
            <div class="w-full bg-gray-700 h-2 rounded-full overflow-hidden">
                <div id="api-usage-bar" class="bg-green-500 h-full" style="width: 5%"></div>
            </div>
            <div class="flex justify-between text-xs mt-1">
                <span id="api-cost-display">$5.20 used</span>
                <span id="api-left-pct" class="text-gray-400">95% left</span>
            </div>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <div class="flex-1 p-8 relative">
        
        <!-- MISSION CONTROL -->
        <div id="view-dashboard" class="view-section active">
            
            <div class="flex justify-between items-center mb-6">
                <h1 class="text-2xl font-bold">Mission Control</h1>
                <div class="flex items-center gap-4">
                    <div id="harvester-status-pill" class="flex items-center gap-2 bg-blue-900/30 px-3 py-1 rounded-full border border-blue-500/50">
                        <div id="harvester-dot" class="w-2 h-2 rounded-full bg-blue-400 animate-pulse"></div>
                        <span class="text-[10px] font-bold text-blue-400 uppercase tracking-widest">Harvester: Active</span>
                    </div>
                    <div id="kalshi-connection-pill" class="flex items-center gap-2 bg-red-900/30 px-3 py-1 rounded-full border border-red-500/50">
                        <div id="kalshi-dot" class="w-2 h-2 rounded-full bg-white"></div>
                        <span id="kalshi-status-text" class="text-[10px] font-bold text-red-400 uppercase tracking-widest">OFFLINE</span>
                        <span id="kalshi-key-text" class="text-[8px] text-gray-500 font-mono ml-1 border-l border-gray-700 pl-2">NO KEY</span>
                    </div>
                    <div class="flex items-center gap-2 bg-gray-800 px-3 py-1 rounded-full border border-gray-700">
                        <span class="text-[10px] font-bold text-gray-400 uppercase">Trading Mode:</span>
                        <select id="mode-toggle" onchange="saveMode()" class="bg-transparent text-xs font-bold text-blue-400 focus:outline-none">
                            <option value="paper" class="bg-gray-900">PAPER (Simulation)</option>
                            <option value="live" class="bg-gray-900 text-red-400">LIVE (Real Money)</option>
                        </select>
                    </div>
                    <button onclick="toggleTrading()" id="master-trade-btn" class="bg-emerald-600 px-4 py-1 rounded text-xs font-bold uppercase tracking-wider">Bot: Standby</button>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                <div class="card col-span-2 bg-gradient-to-r from-gray-900 to-gray-800 border-l-4 border-blue-500 relative overflow-hidden">
                    <div id="pulse-ring" class="absolute top-0 right-0 w-32 h-32 bg-blue-500 rounded-full blur-3xl opacity-10 animate-pulse"></div>
                    
                    <div class="relative z-10 flex justify-between items-start">
                        <div>
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-xs font-bold bg-blue-900 text-blue-200 px-2 py-1 rounded uppercase tracking-wide">
                                    <i class="fa-solid fa-crown text-yellow-400 mr-1"></i> Highest Priority
                                </span>
                                <span id="king-time" class="text-xs text-gray-500">Updated: Just now</span>
                            </div>
                            
                            <h2 id="king-module" class="text-4xl font-bold text-white mb-1">Scanning...</h2>
                            <p id="king-reason" class="text-xl text-blue-400">Initializing Systems...</p>
                        </div>
                        
                        <div class="text-right">
                            <div class="inline-block bg-gray-900 rounded-lg p-3 border border-gray-700">
                                <span id="king-score" class="text-5xl font-bold text-white block">--</span>
                                <span class="text-xs text-gray-500 uppercase font-bold">Confidence</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-6 pt-4 border-t border-gray-700 flex justify-between items-center">
                        <p id="king-signal" class="font-mono text-gray-300">STATUS: WAITING FOR SIGNAL</p>
                        <button class="bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded text-sm font-bold shadow-lg shadow-blue-900/50">
                            View Analysis <i class="fa-solid fa-arrow-right ml-1"></i>
                        </button>
                    </div>
                </div>

                <div class="card overflow-hidden flex flex-col">
                    <h3 class="font-bold text-gray-400 text-xs uppercase mb-3 border-b border-gray-700 pb-2">
                        <i class="fa-solid fa-clock-rotate-left mr-1"></i> Execution Log
                    </h3>
                    <div id="trade-log" class="overflow-y-auto flex-1 space-y-2 text-sm">
                        <p class="text-gray-600 italic text-center mt-10">No recent executions.</p>
                    </div>
                </div>
            </div>

            <!-- Parameters Card -->
            <div class="card mb-8">
                <h3 class="font-bold mb-4 text-gray-300 flex items-center gap-2">
                    <i class="fa-solid fa-sliders text-blue-400"></i> Trade Parameters (Dial In)
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div>
                        <label class="text-[10px] text-gray-500 uppercase font-bold">Global Confidence Threshold</label>
                        <input type="number" id="param-global-threshold" class="input-dark mt-1" value="75">
                    </div>
                    <div>
                        <label class="text-[10px] text-gray-500 uppercase font-bold">Social Sentiment (Min)</label>
                        <input type="number" id="param-social-threshold" step="0.1" class="input-dark mt-1" value="0.6">
                    </div>
                    <div>
                        <label class="text-[10px] text-gray-500 uppercase font-bold">Risk Level</label>
                        <select id="param-risk-level" class="input-dark mt-1">
                            <option value="CONSERVATIVE">Conservative (Low Kelly)</option>
                            <option value="MODERATE">Moderate (Med Kelly)</option>
                            <option value="AGGRESSIVE">Aggressive (High Kelly)</option>
                        </select>
                    </div>
                </div>
                <button onclick="saveParams()" class="btn-primary mt-6 text-xs w-full md:w-auto">Update Parameters</button>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                <div class="card p-4">
                    <p class="text-gray-400 text-xs uppercase">Weather</p>
                    <div class="flex justify-between items-end">
                        <span id="dash-weather-status" class="font-bold">--</span>
                        <span id="dash-weather-score" class="text-sm bg-gray-700 px-2 rounded">--%</span>
                    </div>
                </div>
                <div class="card p-4">
                    <p class="text-gray-400 text-xs uppercase">Satoshi Vision</p>
                    <div class="flex justify-between items-end">
                        <span id="dash-btc-status" class="font-bold">--</span>
                        <span id="dash-btc-score" class="text-sm bg-gray-700 px-2 rounded">--/100</span>
                    </div>
                </div>
                <div class="card p-4">
                    <p class="text-gray-400 text-xs uppercase">Musk Velocity</p>
                    <div class="flex justify-between items-end">
                        <span id="dash-musk-status" class="font-bold text-xs uppercase">--</span>
                        <span id="dash-musk-score" class="text-sm bg-gray-700 px-2 rounded">--</span>
                    </div>
                </div>
                <div class="card p-4">
                    <p class="text-gray-400 text-xs uppercase">Social Velocity</p>
                    <div class="flex justify-between items-end">
                        <span id="dash-social-status" class="font-bold">--</span>
                        <span id="dash-social-score" class="text-sm bg-gray-700 px-2 rounded">--</span>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="card bg-gray-900 border-dashed">
                    <h3 class="font-bold mb-4 text-xs text-gray-500 uppercase tracking-widest flex justify-between">
                        System Intelligence Feed
                        <span class="text-blue-400 animate-pulse">‚óè LIVE</span>
                    </h3>
                    <div id="dashboard-logs" class="space-y-2 max-h-[300px] overflow-y-auto font-mono text-[10px]">
                        <div class="text-gray-600 italic">Initializing intelligence stream...</div>
                    </div>
                </div>

                <div class="card bg-gray-900 border-border">
                    <h3 class="font-bold mb-4 text-xs text-gray-500 uppercase tracking-widest flex justify-between">
                        Active Kalshi Positions
                        <i class="fa-solid fa-briefcase text-blue-400"></i>
                    </h3>
                    <div id="active-positions" class="space-y-2 max-h-[300px] overflow-y-auto">
                        <div class="text-gray-600 italic text-[10px]">Scanning portfolio...</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- WEATHER VIEW -->
        <div id="view-weather" class="view-section">
            <h1 class="text-2xl font-bold mb-6">Weather Alpha | Nationwide Scan</h1>
            
            <div class="card mb-6 bg-gradient-to-r from-blue-900/20 to-gray-900 border-l-4 border-cyan-500">
                <div class="flex justify-between items-center">
                    <div>
                        <p class="text-cyan-400 font-bold uppercase text-xs">Current Arbitrage Signal</p>
                        <h2 id="weather-temp" class="text-4xl font-black text-white">SCANNING...</h2>
                        <p id="weather-variance" class="text-sm text-gray-500 mt-1">Variance: --</p>
                    </div>
                    <div class="text-right">
                        <div id="weather-signal" class="bg-gray-800 p-4 rounded-lg border border-gray-700 min-w-[200px]">
                            <p class="text-gray-500 text-[10px] uppercase font-bold">Waiting for Edge...</p>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-3 gap-4 mt-6 pt-4 border-t border-gray-800 text-center">
                    <div>
                        <p class="text-[10px] text-gray-500 uppercase">NWS Forecast</p>
                        <p id="weather-nws" class="font-bold">--</p>
                    </div>
                    <div>
                        <p class="text-[10px] text-gray-500 uppercase">ECMWF (Euro)</p>
                        <p id="weather-euro" class="font-bold">--</p>
                    </div>
                    <div>
                        <p class="text-[10px] text-gray-500 uppercase">GFS (US)</p>
                        <p id="weather-gfs" class="font-bold">--</p>
                    </div>
                </div>
            </div>

            <div id="weather-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Cities populated by JS -->
            </div>
        </div>

        <!-- MUSK VIEW -->
        <div id="view-musk" class="view-section">
            <h1 class="text-2xl font-bold mb-6">Musk Monitor | SpaceX & X Logic</h1>
            <div id="musk-card" class="card">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <p class="text-blue-400 font-bold uppercase text-xs">Elon Behavioral State</p>
                        <h2 id="musk-status" class="text-3xl font-black">SCANNING...</h2>
                        <div id="musk-prediction" class="text-white font-bold mt-1"></div>
                    </div>
                    <div class="text-right">
                        <p class="text-gray-500 text-xs uppercase">Volatility Rating</p>
                        <p id="musk-volatility" class="text-2xl font-bold text-white">--</p>
                        <div id="musk-velocity" class="text-xs text-blue-400 font-mono"></div>
                    </div>
                </div>
                <div id="musk-context" class="space-y-2 text-sm text-gray-400 border-t border-gray-800 pt-4 mt-4"></div>
            </div>
        </div>

        <!-- SOCIAL VIEW -->
        <div id="view-social" class="view-section">
            <h1 class="text-2xl font-bold mb-6">Social Alpha | Influencer Velocity</h1>
            
            <div class="card mb-6">
                <h3 class="font-bold mb-4 text-xs text-gray-500 uppercase tracking-widest">Monitored Handles</h3>
                <div id="trader-tags" class="flex flex-wrap gap-2 mb-4">
                    <!-- Tags populated by JS -->
                </div>
                <div class="flex gap-2">
                    <input type="text" id="new-trader-input" class="input-dark" placeholder="Add X handle (e.g. @DeItaone)">
                    <button onclick="addTrader()" class="bg-blue-600 px-4 py-2 rounded font-bold text-xs uppercase">Add</button>
                    <button onclick="saveSocialSettings()" class="bg-emerald-600 px-4 py-2 rounded font-bold text-xs uppercase">Save Config</button>
                </div>
                <div class="mt-4 flex items-center gap-4">
                    <label class="text-[10px] text-gray-500 uppercase font-bold">Scan Frequency (min)</label>
                    <input type="number" id="scan-freq" class="input-dark w-20" value="30">
                </div>
            </div>

            <div id="social-feed" class="space-y-4">
                <!-- Tweets populated by JS -->
            </div>
        </div>

        <!-- GEO VIEW -->
        <div id="view-geo" class="view-section">
            <h1 class="text-2xl font-bold mb-6">Geo-Pulse | Geopolitical Intel</h1>
            <div id="geo-impact-card" class="card mb-6 bg-gradient-to-r from-red-900/20 to-gray-900">
                <div class="flex justify-between items-center">
                    <div>
                        <p class="text-red-400 font-bold uppercase text-xs">Aggregate Impact Score</p>
                        <h2 id="geo-impact-score" class="text-4xl font-black text-white">--</h2>
                    </div>
                    <div id="geo-status-pill" class="bg-gray-800 px-4 py-2 rounded-full border border-gray-700 font-bold text-sm">SCANNING</div>
                </div>
            </div>
            <div id="geo-feed" class="space-y-4">
                <!-- Geopolitical signals populated by JS -->
            </div>
        </div>

        <!-- ROVER VIEW -->
        <div id="view-rover" class="view-section">
            <h1 class="text-2xl font-bold mb-6">Market Rover | S&P 500 & Macro Confluence</h1>
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6">
                <div class="card lg:col-span-1">
                    <p class="text-blue-400 font-bold uppercase text-xs">QuantOS Bias</p>
                    <h3 id="rover-bias" class="text-2xl font-bold text-white">--</h3>
                </div>
                <div class="card lg:col-span-3">
                    <p class="text-gray-400 font-bold uppercase text-xs">Macro Context</p>
                    <p id="rover-context" class="text-sm text-gray-300 mt-1">Fetching global sentiment data...</p>
                </div>
            </div>
            <div class="card">
                <h3 class="font-bold mb-4 text-xs text-gray-500 uppercase tracking-widest">Rover Findings</h3>
                <div id="rover-results" class="space-y-3">
                    <!-- Rover results populated by JS -->
                </div>
            </div>
        </div>

        <!-- BTC VIEW -->
        <div id="view-btc" class="view-section">
            <h1 class="text-2xl font-bold mb-6">Satoshi Vision | Confluence Brain</h1>
            
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6">
                <div class="card">
                    <p class="text-gray-500 text-[10px] uppercase font-bold">BTC/USD Price</p>
                    <h2 id="btc-price" class="text-2xl font-black text-white">$--,---</h2>
                    <span id="btc-regime" class="text-[10px] text-blue-400 font-bold uppercase tracking-widest">Scanning...</span>
                </div>
                <div class="card">
                    <p class="text-gray-500 text-[10px] uppercase font-bold">Confidence</p>
                    <h2 id="btc-confidence" class="text-2xl font-black text-white">--</h2>
                    <span class="text-[10px] text-gray-500 font-bold uppercase tracking-widest">/ 100 Score</span>
                </div>
                <div class="card lg:col-span-2 bg-gradient-to-r from-blue-900/10 to-transparent">
                    <p class="text-gray-500 text-[10px] uppercase font-bold">Institutional Signal</p>
                    <h2 id="btc-signal" class="text-2xl font-black text-green-400 uppercase">WAIT</h2>
                    <p id="btc-reason" class="text-xs text-gray-400 truncate mt-1">Analyzing multiframe technicals...</p>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="card col-span-2">
                    <h3 class="font-bold text-blue-400 mb-4 uppercase text-xs">Technical Indicators</h3>
                    <div id="btc-indicators" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="bg-gray-800/50 p-2 rounded text-center">
                            <p class="text-[8px] text-gray-500 uppercase">VWAP</p>
                            <p id="btc-vwap" class="text-xs font-bold">--</p>
                        </div>
                        <div class="bg-gray-800/50 p-2 rounded text-center">
                            <p class="text-[8px] text-gray-500 uppercase">RSI (14)</p>
                            <p id="btc-stoch" class="text-xs font-bold">--</p>
                        </div>
                        <div class="bg-gray-800/50 p-2 rounded text-center">
                            <p class="text-[8px] text-gray-500 uppercase">ADX</p>
                            <p id="btc-adx" class="text-xs font-bold">--</p>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <h3 class="font-bold text-blue-400 mb-4 uppercase text-xs">Verdict</h3>
                    <div id="btc-verdict" class="text-center py-8">
                        <div class="text-gray-600 italic">Calculating regime confluence...</div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script src="/static/app.js"></script>
</body>
</html>
